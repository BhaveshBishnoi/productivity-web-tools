<?php
$lifetime = 60 * 60 * 24 * 30; // 30 days
session_set_cookie_params($lifetime);
session_start();

// Default language
$lang_code = isset($_GET['lang']) ? $_GET['lang'] : (isset($_SESSION['lang']) ? $_SESSION['lang'] : 'en');
$_SESSION['lang'] = $lang_code;

// Translations
$translations = [
    'en' => [
        'title' => 'Focus Flow • Pomodoro',
        'meta_description' => 'A premium Pomodoro timer with task management, dark mode, and multi-language support.',
        'work' => 'Work',
        'short_break' => 'Short Break',
        'long_break' => 'Long Break',
        'start' => 'Start',
        'pause' => 'Pause',
        'reset' => 'Reset',
        'tasks' => 'Tasks',
        'add_task' => 'Add a new task...',
        'settings' => 'Settings',
        'duration' => 'Duration (min)',
        'language' => 'Language',
        'theme' => 'Theme',
        'light' => 'Light',
        'dark' => 'Dark',
        'completed' => 'Completed',
        'sessions' => 'Sessions',
        'save' => 'Save Settings',
        'home' => 'Home',
        'about' => 'About',
        'what_is' => 'What is Pomodoro?',
        'privacy' => 'Privacy Policy',
        'disclaimer' => 'Disclaimer',
        'ads_policy' => 'Ads Policy',
        'more' => 'More',
        'about_text' => 'Focus Flow is a premium productivity tool designed to help you stay focused and manage your time effectively using the Pomodoro technique.',
        'what_is_text' => 'The Pomodoro Technique is a time management method developed by Francesco Cirillo in the late 1980s. It uses a timer to break work into intervals, traditionally 25 minutes in length, separated by short breaks.',
        'privacy_text' => 'Your privacy is important to us. We do not collect any personal data. All your tasks and settings are stored locally on your device.',
        'disclaimer_text' => 'This app is provided "as is" without any warranties. Use it at your own risk.',
        'ads_policy_text' => 'We may display non-intrusive ads to support the development of this free tool.'
    ],
    'es' => [
        'title' => 'Focus Flow • Pomodoro',
        'meta_description' => 'Un temporizador Pomodoro premium con gestión de tareas, modo oscuro y soporte multi-idioma.',
        'work' => 'Trabajo',
        'short_break' => 'Descanso Corto',
        'long_break' => 'Descanso Largo',
        'start' => 'Iniciar',
        'pause' => 'Pausar',
        'reset' => 'Reiniciar',
        'tasks' => 'Tareas',
        'add_task' => 'Añadir nueva tarea...',
        'settings' => 'Ajustes',
        'duration' => 'Duración (min)',
        'language' => 'Idioma',
        'theme' => 'Tema',
        'light' => 'Claro',
        'dark' => 'Oscuro',
        'completed' => 'Completado',
        'sessions' => 'Sesiones',
        'save' => 'Guardar Ajustes',
        'home' => 'Inicio',
        'about' => 'Acerca de',
        'what_is' => '¿Qué es Pomodoro?',
        'privacy' => 'Política de Privacidad',
        'disclaimer' => 'Descargo de Responsabilidad',
        'ads_policy' => 'Política de Anuncios',
        'more' => 'Más',
        'about_text' => 'Focus Flow es una herramienta de productividad premium diseñada para ayudarte a mantenerte enfocado y gestionar tu tiempo de manera efectiva.',
        'what_is_text' => 'La Técnica Pomodoro es un método de gestión del tiempo que utiliza un temporizador para dividir el trabajo en intervalos, tradicionalmente de 25 minutos.',
        'privacy_text' => 'Tu privacidad es importante. No recopilamos datos personales. Todo se guarda localmente.',
        'disclaimer_text' => 'Esta aplicación se proporciona "tal cual". Úsala bajo tu propio riesgo.',
        'ads_policy_text' => 'Podemos mostrar anuncios no intrusivos para apoyar el desarrollo.'
    ],
    'fr' => [
        'title' => 'Focus Flow • Pomodoro',
        'meta_description' => 'Un minuteur Pomodoro premium avec gestion des tâches, mode sombre et support multilingue.',
        'work' => 'Travail',
        'short_break' => 'Pause Courte',
        'long_break' => 'Pause Longue',
        'start' => 'Démarrer',
        'pause' => 'Pause',
        'reset' => 'Réinitialiser',
        'tasks' => 'Tâches',
        'add_task' => 'Ajouter une tâche...',
        'settings' => 'Paramètres',
        'duration' => 'Durée (min)',
        'language' => 'Langue',
        'theme' => 'Thème',
        'light' => 'Clair',
        'dark' => 'Sombre',
        'completed' => 'Terminé',
        'sessions' => 'Sessions',
        'save' => 'Enregistrer',
        'home' => 'Accueil',
        'about' => 'À propos',
        'what_is' => 'Qu\'est-ce que Pomodoro ?',
        'privacy' => 'Politique de Confidentialité',
        'disclaimer' => 'Clause de Non-responsabilité',
        'ads_policy' => 'Politique Publicitaire',
        'more' => 'Plus',
        'about_text' => 'Focus Flow est un outil de productivité premium conçu pour vous aider à rester concentré.',
        'what_is_text' => 'La technique Pomodoro est une méthode de gestion du temps qui utilise un minuteur pour diviser le travail en intervalles.',
        'privacy_text' => 'Votre vie privée est importante. Nous ne collectons aucune donnée personnelle.',
        'disclaimer_text' => 'Cette application est fournie "en l\'état".',
        'ads_policy_text' => 'Nous pouvons afficher des publicités non intrusives.'
    ],
    'hi' => [
        'title' => 'Focus Flow • पोमोडोरो',
        'meta_description' => 'टास्क मैनेजमेंट, डार्क मोड और मल्टी-लैंग्वेज सपोर्ट के साथ एक प्रीमियम पोमोडोरो टाइमर।',
        'work' => 'काम',
        'short_break' => 'छोटा ब्रेक',
        'long_break' => 'लंबा ब्रेक',
        'start' => 'शुरू करें',
        'pause' => 'रोकें',
        'reset' => 'रीसेट',
        'tasks' => 'कार्य',
        'add_task' => 'नया कार्य जोड़ें...',
        'settings' => 'सेटिंग्स',
        'duration' => 'अवधि (मिनट)',
        'language' => 'भाषा',
        'theme' => 'थीम',
        'light' => 'लाइट',
        'dark' => 'डार्क',
        'completed' => 'पूरा हुआ',
        'sessions' => 'सत्र',
        'save' => 'सेटिंग्स सहेजें',
        'home' => 'होम',
        'about' => 'हमारे बारे में',
        'what_is' => 'पोमोडोरो क्या है?',
        'privacy' => 'गोपनीयता नीति',
        'disclaimer' => 'अस्वीकरण',
        'ads_policy' => 'विज्ञापन नीति',
        'more' => 'अधिक',
        'about_text' => 'Focus Flow एक प्रीमियम उत्पादकता उपकरण है जो आपको ध्यान केंद्रित करने में मदद करता है।',
        'what_is_text' => 'पोमोडोरो तकनीक एक समय प्रबंधन पद्धति है जो काम को अंतराल में विभाजित करती है।',
        'privacy_text' => 'आपकी गोपनीयता महत्वपूर्ण है। हम कोई व्यक्तिगत डेटा एकत्र नहीं करते हैं।',
        'disclaimer_text' => 'यह ऐप "जैसा है" वैसा ही प्रदान किया गया है।',
        'ads_policy_text' => 'हम विकास का समर्थन करने के लिए विज्ञापन दिखा सकते हैं।'
    ],
    'zh' => [
        'title' => 'Focus Flow • 番茄钟',
        'meta_description' => '具有任务管理、暗模式和多语言支持的高级番茄钟。',
        'work' => '工作',
        'short_break' => '短休',
        'long_break' => '长休',
        'start' => '开始',
        'pause' => '暂停',
        'reset' => '重置',
        'tasks' => '任务',
        'add_task' => '添加新任务...',
        'settings' => '设置',
        'duration' => '时长 (分钟)',
        'language' => '语言',
        'theme' => '主题',
        'light' => '浅色',
        'dark' => '深色',
        'completed' => '已完成',
        'sessions' => '会话',
        'save' => '保存设置',
        'home' => '首页',
        'about' => '关于',
        'what_is' => '什么是番茄钟？',
        'privacy' => '隐私政策',
        'disclaimer' => '免责声明',
        'ads_policy' => '广告政策',
        'more' => '更多',
        'about_text' => 'Focus Flow 是一款高级生产力工具，旨在帮助您保持专注。',
        'what_is_text' => '番茄工作法是一种时间管理方法，它使用计时器将工作分解为间隔。',
        'privacy_text' => '您的隐私很重要。我们不收集任何个人数据。',
        'disclaimer_text' => '此应用程序按“原样”提供。',
        'ads_policy_text' => '我们可能会展示非侵入性广告。'
    ]
];

$t = isset($translations[$lang_code]) ? $translations[$lang_code] : $translations['en'];
?>
